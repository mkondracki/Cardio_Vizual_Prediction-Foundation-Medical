{
  "dataset_params":{
      "dataset":"FAME2",
      "data_location":"/data/mkondrac/foundation_model_cardio/code/Foundation-Medical/storage/FAME2/FOLD_2",
      "train_transforms":{
          "Resize":{
              "apply":false,
              "height":256,
              "width":256
          },
          "CenterCrop":{
              "apply":false,
              "height":308,
              "width":308
          },
          "Normalize":true,


          "VerticalFlip":{
              "apply":true,
              "p":0.5
          },
          "HorizontalFlip":{
              "apply":true,
              "p":0.5
          },
          "RandomRotation":{
              "apply":false,
              "angle":5,
              "p":0.5
          },
          "RandomGrayscale":{
              "apply":true,
              "p":0.2
          },
          "RandomCrop":{
              "apply":false,
              "height":32,
              "width":32,
              "padding":4,
              "p":0.5
          },
          "ColorJitter":{
              "apply":true,
              "brightness":0.2,
              "contrast":0.2,
              "saturation":0.1,
              "hue":0.1,
              "p":0.8
          },
          "RandomPerspective":{
              "apply":false,
              "distortion_scale":0.2,
              "p":0.5
          },
          "RandomAffine":{
              "apply":false,
              "degrees":5,
              "translate":[
                  0.1,
                  0.3
              ],
              "scale":[
                  0.1,
                  3.3
              ],
              "shear":0.2,
              "p":0.5
          },
          "RandomErasing":{
              "apply":false,
              "scale":[
                  0.02,
                  0.33
              ],
              "ratio":[
                  0.3,
                  3.3
              ],
              "value":0,
              "p":0.5
          },
          "RandomGaussianBlur":{
              "apply":true,
              "radius_min":0.1,
              "radius_max":2.0,
              "p":0.2
          },
          "RandomSolarize":{
              "apply":false,
              "threshold":128,
              "p":0.2
          },
          "RandomResizedCrop":{
              "apply":false,
              "size":224,
              "scale":[
                  0.8,
                  1.2
              ]
          },
          "MultiCrop":{
              "apply":false,
              "n_crops":[
                  2,
                  6
              ],
              "sizes":[
                  224,
                  96
              ],
              "scales":[
                  [
                      0.4,
                      1.0
                  ],
                  [
                      0.05,
                      0.4
                  ]
              ]
          }
      },
      "val_transforms":{
          "Resize":{
              "apply":false,
              "height":256,
              "width":256
          },
          "CenterCrop":{
              "apply":false,
              "height":308,
              "width":308
          },
          "Normalize":true
      },
      "test_transforms":{
          "Resize":{
              "apply":false,
              "height":256,
              "width":256
          },
          "CenterCrop":{
              "apply":false,
              "height":308,
              "width":308
          },
          "Normalize":true
      }
  },
  "dataloader_params":{
      "trainloader":{
          "batch_size":32,
          "num_workers":4,
          "prefetch_factor":4,
          "shuffle":true,
          "pin_memory":true,
          "drop_last":false,
          "persistent_workers":true
      },
      "valloader":{
          "batch_size":32,
          "num_workers":4,
          "prefetch_factor":4,
          "shuffle":false,
          "pin_memory":true,
          "drop_last":false,
          "persistent_workers":false
      },
      "testloader":{
          "batch_size":32,
          "num_workers":4,
          "prefetch_factor":4,
          "shuffle":false,
          "pin_memory":true,
          "drop_last":false,
          "persistent_workers":false
      }
  },
  "model_params":{
      "backbone_type":"none",
      "cnn_params":{
          "pretrained_type":"supervised"
      },
      "transformers_params":{
          "img_size":[
              224
          ],
          "patch_size":16,
          "pretrained_type":"supervised",
          "is_memory_efficient":false
      },
      "pretrained":false,
      "freeze_backbone":false,
      "use_metadata":true,
      "no_visual_encoding":true
      
  },
  "foundation_params":{
      "backbone_type":"dinov2_vitl14",
      "img_size":224,
      "pretrained":true,
      "freeze_backbone":false,
      "partial":{
          "unfreeze_cutoff":-1,
          "drop_cutoff":[]
      }
  },
  "optimization_params":{
      "default":{
          "optimizer":{
              "type":"AdamW",
              "autoscale_lr":false,
              "params":{
                  "lr":1e-4, 
                  "weight_decay":0.05
              }
          },
          "LARS_params":{
              "use":false,
              "batch_act_thresh":256,
              "eps":1e-8,
              "trust_coef":0.001
          },
          "scheduler":{
              "type":[
                  "LinearWarmup"
              ],
              "params":{
                  "ReduceLROnPlateau":{
                      "mode":"max",
                      "factor":0.1,
                      "patience":10,
                      "verbose":true
                  },
                  "OneCycleLR":{
                      "anneal_strategy":"linear",
                      "final_div_factor":1e-4
                  },
                  "MultiStepLR":{
                      "milestones":[
                          8,
                          12,
                          14
                      ],
                      "gamma":0.1
                  },
                  "CosineAnnealingLR":{
                      "eta_min":1e-6
                  },
                  "LinearWarmup":{
                      "warmup_epochs":0,
                      "warmup_iters":1000
                  }
              }
          }
      }
  },
  "training_params":{
      "model_name":"FAME2_DiNO_FOLD_2",
      "epochs":100,
      "val_every":1,
      "log_every":1,
      "save_best_model":true,
      "log_embeddings":false,
      "knn_eval":false,
      "grad_clipping":1.0,
      "restore_session":false,
      "restore_only_model":false,
      "use_tensorboard":false,
      "use_mixed_precision":true,
      "save_dir":"/data/mkondrac/foundation_model_cardio/code/Foundation-Medical/saved_checkpoints/dinov2_vitl14/global_features/FOLD_2"
  },
  "system_params":{
      "use_all_GPUs":false,
      "which_GPUs":"cuda:0",
      "use_GPU":true
  },
  "log_params":{
      "project_name":"medical_foundation_2",
      "run_name":"DEFINED_BY_MODEL_NAME"
  },
  "lr_finder":{
      "type":"grid_search",
      "grid_search_params":{
          "min_pow":-5,
          "max_pow":-2,
          "resolution":25,
          "n_epochs":5,
          "random_lr":false,
          "keep_schedule":false,
          "report_intermediate_steps":false
      }
  },
  "transfer_learning_params":{
      "use_pretrained":false,
      "pretrained_model_name":"dinov2_vitl14",
      "pretrained_path":""
  }
}